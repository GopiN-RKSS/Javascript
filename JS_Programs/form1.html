<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <title>Document</title>
    <style>
      label,
      input {
        margin: 15px;
      }
      table {
        border-collapse: collapse;
      }
      td,
      th {
        border: 1px solid gray;
        width: 150px;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <form>
      <label for="FirstName">First Name:</label>
      <input type="text" id="firstname" />
      <label for="LastName">Last Name:</label>
      <input type="text" id="lastname" /><br />
      <label for="gender">Gender:</label>
      <input type="radio" id="male" name="gender" value="Male" />Male
      <input
        type="radio"
        id="female"
        name="gender"
        value="Female"
      />Female<br />
      <label for="languages">Languages:</label>
      <input type="checkbox" id="english" class="lang" value="English" />English
      <input type="checkbox" id="telugu" class="lang" value="Telugu" />Telugu
      <input type="checkbox" id="hindi" class="lang" value="Hindi" />Hindi<br />
      <label for="languages">State:</label>
      <select name="dropdown" id="state">
        <option value="TS">Telangana</option>
        <option value="AP">Andhra Pradesh</option>
        <option value="KS">Karnataka</option></select
      ><br />
      <button class="btn btn-primary ms-2" value="submit">Submit</button>
      <input type="submit" value="cancel" />
    </form>
    <br /><br />
    <div id="container"></div>
    <br />
    <nav aria-label="Page navigation example">
      <ul class="pagination ms-5">
        <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
    </nav>
    <script>
      let container = document.querySelector("#container");
      let button = document.querySelector(".btn");
      button.addEventListener("click", getFormValues);

      let userList = [];

      function getFormValues(e) {
        e.preventDefault();
        let obj = {};
        let firstName = document.getElementById("firstname").value;
        let lastName = document.getElementById("lastname").value;

        // adding fullName to object
        obj.name = function () {
          return firstName + " " + lastName;
        };

        let getSelectedValue = document.querySelector(
          'input[name="gender"]:checked'
        );
        let selectedValue;
        if (getSelectedValue != null) {
          selectedValue = getSelectedValue.value;
        }

        // adding gender to object
        obj.gender = selectedValue;

        let checkedValue = [];
        let inputElements = document.getElementsByClassName("lang");
        for (let i = 0; i < inputElements.length; i++) {
          if (inputElements[i].checked) {
            checkedValue[checkedValue.length] = "inputElements[i].value";
          }
        }
        // adding languages to object
        obj.language = checkedValue;

        let state = document.getElementById("state").value;
        obj.state = state;
        userList.push(obj);
        document.querySelector("form").reset();
        diplayUserList(userList);
        pagination(userList);
        // removeUser(userList);
      }

      function diplayUserList(userList) {
        let thead = () => {
          return `<thead>
                                <tr>
                                    <th>Full Name</th>
                                    <th>Gender</th>
                                    <th>Languages</th>
                                    <th>state</th>
                                    <th>Action</th>
                                </tr>
                            </thead>`;
        };

        let displayUser = userList.map((user, index) => {
          // console.log(user);

          return `        <tbody>
                                        <tr id="myRow">
                                        <td>${user.name()}</td>
                                        <td>${user.gender}</td>
                                        <td>${user.language}</td>
                                        <td>${user.state}</td>
                                        <td><button name="remove" onclick="remove('${index}')"/>remove</td>
                                        </tr>
                                    <tbody>
                                
                                `;
        });
        displayUser = displayUser.join("");
        let displayTable = () => `<table>${thead()}${displayUser}</table>`;
        container.innerHTML = displayTable();
      }

      // pagination
      function pagination(userList) {}
      function remove(row) {
        userList.splice(row, 1);
        displayTable();
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
